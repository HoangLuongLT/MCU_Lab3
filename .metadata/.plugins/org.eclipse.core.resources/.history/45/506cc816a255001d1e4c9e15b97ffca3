/*
 * IOLed.c
 *
 *  Created on: Oct 26, 2022
 *      Author: Luong
 */


#include <output_display.h>
#include "main.h"

int ledR=1;
int ledY=1;
int ledG=1;

void toggleAllRedLed(){
	if(ledR==1){
		HAL_GPIO_WritePin(GPIOA, LED_RED1_Pin|LED_RED2_Pin|LED_RED3_Pin|LED_RED4_Pin, GPIO_PIN_SET);
	}
	else{
		HAL_GPIO_WritePin(GPIOA, LED_RED1_Pin|LED_RED2_Pin|LED_RED3_Pin|LED_RED4_Pin, GPIO_PIN_RESET);
	}
	ledR=!ledR;
	HAL_GPIO_WritePin(GPIOA, LED_YELLOW1_Pin|LED_YELLOW2_Pin|LED_YELLOW3_Pin|LED_YELLOW4_Pin, GPIO_PIN_RESET);
	HAL_GPIO_WritePin(GPIOA, LED_GREEN1_Pin|LED_GREEN2_Pin|LED_GREEN3_Pin|LED_GREEN4_Pin, GPIO_PIN_RESET);
}
void blinkAllYellowLed(){
	if(ledY==1){
		HAL_GPIO_WritePin(GPIOA, LED_YELLOW1_Pin|LED_YELLOW2_Pin|LED_YELLOW3_Pin|LED_YELLOW4_Pin, GPIO_PIN_SET);
	}
	else{
		HAL_GPIO_WritePin(GPIOA, LED_YELLOW1_Pin|LED_YELLOW2_Pin|LED_YELLOW3_Pin|LED_YELLOW4_Pin, GPIO_PIN_RESET);
	}
	ledY=!ledY;
	HAL_GPIO_WritePin(GPIOA, LED_RED1_Pin|LED_RED2_Pin|LED_RED3_Pin|LED_RED4_Pin, GPIO_PIN_RESET);
	HAL_GPIO_WritePin(GPIOA, LED_GREEN1_Pin|LED_GREEN2_Pin|LED_GREEN3_Pin|LED_GREEN4_Pin, GPIO_PIN_RESET);
}
void blinkAllGreenLed(){
	if(ledG==1){
		HAL_GPIO_WritePin(GPIOA, LED_GREEN1_Pin|LED_GREEN2_Pin|LED_GREEN3_Pin|LED_GREEN4_Pin, GPIO_PIN_SET);
	}
	else{
		HAL_GPIO_WritePin(GPIOA, LED_GREEN1_Pin|LED_GREEN2_Pin|LED_GREEN3_Pin|LED_GREEN4_Pin, GPIO_PIN_RESET);
	}
	ledG=!ledG;
	HAL_GPIO_WritePin(GPIOA, LED_RED1_Pin|LED_RED2_Pin|LED_RED3_Pin|LED_RED4_Pin, GPIO_PIN_RESET);
	HAL_GPIO_WritePin(GPIOA, LED_YELLOW1_Pin|LED_YELLOW2_Pin|LED_YELLOW3_Pin|LED_YELLOW4_Pin, GPIO_PIN_RESET);
}
void display7SEGMode(uint8_t number){
	uint8_t led7SegHex[10]={0x40,0x79,0x24,0x30,0x19,0x12,0x02,0x78,0x00,0x10};
	GPIOB->ODR &= 0xff80;
	GPIOB->ODR|= led7SegHex[number];
}
void display7SEGValue(uint8_t number){
	uint8_t led7SegHex[10]={0x40,0x79,0x24,0x30,0x19,0x12,0x02,0x78,0x00,0x10};
	GPIOB->ODR &= 0xc07f;
	GPIOB->ODR|= (led7SegHex[number]<<7);
}


